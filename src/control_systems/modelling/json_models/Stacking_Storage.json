{
    "places": {

        "PS0": [
            [
                [], []
            ],
            ["AL1_ST_X_SET:=0", "AL1_ST_Y_SET:=560", "AL1_ST_Z_SET:=410"],
            "Stacker is free"
        ],
        "PSC": [
            [
                [], ["RP_AL1_ST_CLAMP"]
            ],
            "Clamp is free"
        ],
        "PS1": [
            [
                [], []
            ],
            "Product reaches stacker"
        ],
        "PS23": [
            [
                [], ["RP_AL1_ST_CLAMP", "AL1_ST_GRAB"]
            ],
            "Product gets withing graber range, wait a little before clamping"
        ],
        "PS2": [
            [
                ["RP_AL1_ST_CLAMP"], ["AL1_ST_GRAB"]
            ],
            "Product gets withing graber range"
        ],
        "PS3": [
            [
                ["RP_AL1_ST_CLAMP"], ["AL1_ST_GRAB"]
            ],
            ["AL1_ST_Y_SET:=560"],
            "Move grabber to product location"
        ],
        "PS4": [
            [
                ["RP_AL1_ST_CLAMP"], ["AL1_ST_GRAB"]
            ],
            ["AL1_ST_Z_SET:=800"],
            "Move grabber down to pick up product"
        ],
        "PS5": [
            [
                ["AL1_ST_GRAB"], []
            ],
            "Grab product"
        ],
        "PS6": [
            [
                ["AL1_ST_GRAB"], []
            ],
            ["AL1_ST_Z_SET:=410"],
            "Raise grabber up a little"
        ],
        "PS7": [
            [
                ["AL1_ST_GRAB"], []
            ],
            ["AL1_ST_X_SET:=770"],
            "Move grabber to box location"
        ],
        "PS8": [
            [
                ["AL1_ST_GRAB"], []
            ],
            ["AL1_ST_Z_SET:=600"],
            "Lower grabber to drop product into box"
        ],
        "PS9": [
            [
                [], ["AL1_ST_GRAB"]
            ],
            "Drop product"
        ],
        "PS10": [
            [
                [], []
            ],
            "Product is in the box"
        ],
        "PS11": [
            [
                [], []
            ],
            "Product is in the box"
        ],
        "PS12": [
            [
                [], []
            ],
            "Product is in the box"
        ],
        "PSE1": [
            [
                ["AL1_EMIT", "RC_AL1_ST"], []
            ],
            "Three products in box, roll box away and emit new box"
        ],
        "PSE2": [
            [
                ["RC_AL1_ST"], ["AL1_EMIT"]
            ],
            "Roll box off conveyor on to the next conveyor"
        ],
        "PSE0": [
            [
                [], ["AL1_EMIT", "RC_AL1_ST"]
            ],
            "New box arrived, stop conveyor"
        ],


        "PG0": [
            [
                [], []
            ],
            "Stackable box coming in from stacking stage"
        ],
        "PG": [
            [
                ["RC_AL1_G7"],["AL1_G_SC_LT", "AL1_G_SC_RT", "AL1_G_SC_LIFT"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Stacker crane free"
        ],
        "PG1": [
            [
                ["AL1_G_SC_LT"], ["RC_AL1_G7", "AL1_G_SC_RT", "AL1_G_SC_LIFT"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Box reaches storage entry. Turn off the loading conveyor and fork left"
        ],
        "PG2": [
            [
                ["AL1_G_SC_LT", "AL1_G_SC_LIFT"], ["AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Lift box"
        ],
        "PG3": [
            [
                ["AL1_G_SC_LT", "AL1_G_SC_LIFT"], ["AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Box lifting"
        ],
        "PG4": [
            [
                ["AL1_G_SC_LIFT"], ["AL1_G_SC_LT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Box Lifted, retrieve fork"
        ],
        "PG5": [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Fork retrieved, lift down"
        ],
        "PG6": [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Lift going down"
        ],
        "PG7": [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Lift down, set target position"
        ],
        "PG8":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane moving to target position along X"
        ],
        "PG9":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane moving to target position along X"
        ],
        "PG10":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane at target X position"
        ],
        "PG11":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane moving to target position along Z"
        ],
        "PG12":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane moving to target position along Z"
        ],
        "PG13":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane at target Z position"
        ],
        "PG14": [
            [
                ["AL1_G_SC_LIFT"], ["AL1_G_SC_LT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Crane at target position, lift box"
        ],
        "PG15": [
            [
                ["AL1_G_SC_LIFT"], ["AL1_G_SC_LT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Lifting box"
        ],
        "PG16": [
            [
                ["AL1_G_SC_LIFT", "AL1_G_SC_RT"], ["AL1_G_SC_LT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Box lifted, fork right"
        ],
        "PG17": [
            [
                ["AL1_G_SC_RT"], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Forked right, lift down"
        ],
        "PG18": [
            [
                ["AL1_G_SC_RT"], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Lift going down"
        ],
        "PG19": [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=TG_POS"],
            "Lift down, retrieve fork"
        ],
        "PG20": [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Fork retrieved, set stacker target to rest position"
        ],
        "PG21":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane moving to target position along X"
        ],
        "PG22":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane moving to target position along X"
        ],
        "PG23":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane at target X position"
        ],
        "PG24":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane moving to target position along Z"
        ],
        "PG25":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane moving to target position along Z"
        ],
        "PG26":  [
            [
                [], ["AL1_G_SC_LT", "AL1_G_SC_LIFT", "AL1_G_SC_RT", "RC_AL1_G7"]
            ],
            ["AL1_G_SC_TG:=55"],
            "Crane at target Z position"
        ],


        "initial": [

            "PS0", "PSC", "PSE0",
            
            "PG"
        ]
    },

    "outputs": {

        "AL1_ST_X_SET": ["%QW103", "WORD"],
        "AL1_ST_Y_SET":  ["%QW104", "WORD"],
        "AL1_ST_Z_SET":  ["%QW105", "WORD"],
        "RP_AL1_ST_CLAMP":  ["%QX102.5"],
        "AL1_ST_GRAB": ["%QX102.6"],
        "AL1_EMIT": ["%QX102.7"],
        "RC_AL1_ST": ["%QX103.0"],


        "RC_AL1_G7": ["%QX103.1"],
        "AL1_G_SC_LT": ["%QX103.2"],
        "AL1_G_SC_LIFT": ["%QX103.3"],
        "AL1_G_SC_RT": ["%QX103.4"],
        "AL1_G_SC_TG": ["%QW106", "INT"]

    },

    "transitions": {

        "TS1": [
            ["TRUE"],
            [
                [
                    ["ST_AL1_ST1"], []
                ]
            ],
            ["PS1"]
        ],
        "TS2": [
            ["PS0", "PSC", "PS1"],
            [
                [
                    ["ST_AL1_ST2"], []
                ]
            ],
            ["PS23"]
        ],
        "TS23": [
            ["PS23"],
            [
                [
                    ["timer_1_PS23.Q"], []
                ]
            ],
            ["PS2"]
        ],
        "TS3": [
            ["PS2"],
            [
                [
                    ["RP_AL1_ST_CLAMPED"], []
                ]
            ],
            ["PS3"]
        ],
        "TS4": [
            ["PS3"],
            [
                [
                    "(AL1_ST_Y_POS>540) & (AL1_ST_Y_POS<580)"
                ]
            ],
            ["PS4"]
        ],
        "TS5": [
            ["PS4"],
            [
                [
                    "(AL1_ST_Z_POS>780) & (AL1_ST_Z_POS<820)"
                ]
            ],
            ["PSC", "PS5"]
        ],
        "TS6": [
            ["PS5"],
            [
                [
                    ["AL1_ST_DETECTED"], []
                ]
            ],
            ["PS6"]
        ],
        "TS7": [
            ["PS6"],
            [
                [
                    "(AL1_ST_Z_POS>390) & (AL1_ST_Z_POS<430)"
                ]
            ],
            ["PS7"]
        ],
        "TS8": [
            ["PS7"],
            [
                [
                    "(AL1_ST_X_POS>750) & (AL1_ST_X_POS<790)"
                ]
            ],
            ["PS8"]
        ],
        "TS9": [
            ["PS8", "PSE0"],
            [
                [
                    "(AL1_ST_Z_POS>580) & (AL1_ST_Z_POS<620)"
                ]
            ],
            ["PS9"]
        ],
        "TS10": [
            ["PS9"],
            [
                [
                    [], ["AL1_ST_DETECTED"]
                ]
            ],
            ["PS0", "PS10", "PSE0"]
        ],
        "TS11": [
            ["PS9"],
            [
                [
                    [], ["AL1_ST_DETECTED"]
                ]
            ],
            ["PS0", "PS11", "PSE0"]
        ],
        "TS12": [
            ["PS9"],
            [
                [
                    [], ["AL1_ST_DETECTED"]
                ]
            ],
            ["PS0", "PS12", "PSE0"]
        ],
        "TS13": [
            ["PS10", "PS11", "PS12", "PSE0"],
            [
                [
                    ["TRUE"], []
                ]
            ],
            ["PSE1"]
        ],
        "TSE1": [
            ["PSE1"],
            [
                [
                    [], ["ST_AL1_ST3"]
                ]
            ],
            ["PSE2", "PG0"]
        ],
        "TSE2": [
            ["PSE2"],
            [
                [
                    ["ST_AL1_ST3"], []
                ]
            ],
            ["PSE0"]
        ],


        "TG1": [
            ["PG", "PG0"],
            [
                [
                    ["AL1_G_S1"], []
                ]
            ],
            ["PG1"]
        ],
        "TG2": [
            ["PG1"],
            [
                [
                    ["AL1_G_SC_LL"], []
                ]
            ],
            ["PG2"]
        ],
        "TG3": [
            ["PG2"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG3"]
        ],
        "TG4": [
            ["PG3"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG4"]
        ],
        "TG5": [
            ["PG4"],
            [
                [
                    ["AL1_G_SC_ML"], []
                ]
            ],
            ["PG5"]
        ],
        "TG6": [
            ["PG5"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG6"]
        ],
        "TG7": [
            ["PG6"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG7"]
        ],
        "TG8": [
            ["PG7"],
            [
                [
                    ["TRUE"], []
                ]
            ],
            ["PG8", "PG11"]
        ],
        "TG9": [
            ["PG8"],
            [
                [
                    ["AL1_G_SC_MX"], []
                ]
            ],
            ["PG9"]
        ],
        "TG10": [
            ["PG9"],
            [
                [
                    [], ["AL1_G_SC_MX"]
                ]
            ],
            ["PG10"]
        ],
        "TG12": [
            ["PG11"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG12"]
        ],
        "TG13": [
            ["PG12"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG13"]
        ],
        "TG14": [
            ["PG10", "PG13"],
            [
                [
                    ["TRUE"], []
                ]
            ],
            ["PG14"]
        ],
        "TG15": [
            ["PG14"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG15"]
        ],
        "TG16": [
            ["PG15"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG16"]
        ],
        "TG17": [
            ["PG16"],
            [
                [
                    ["AL1_G_SC_RL"], []
                ]
            ],
            ["PG17"]
        ],
        "TG18": [
            ["PG17"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG18"]
        ],
        "TG19": [
            ["PG18"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG19"]
        ],
        "TG20": [
            ["PG19"],
            [
                [
                    ["AL1_G_SC_ML"], []
                ]
            ],
            ["PG20"]
        ],
        "TG21": [
            ["PG20"],
            [
                [
                    ["TRUE"], []
                ]
            ],
            ["PG21", "PG24"]
        ],
        "TG22": [
            ["PG21"],
            [
                [
                    ["AL1_G_SC_MX"], []
                ]
            ],
            ["PG22"]
        ],
        "TG23": [
            ["PG22"],
            [
                [
                    [], ["AL1_G_SC_MX"]
                ]
            ],
            ["PG23"]
        ],
        "TG25": [
            ["PG24"],
            [
                [
                    ["AL1_G_SC_MZ"], []
                ]
            ],
            ["PG25"]
        ],
        "TG26": [
            ["PG25"],
            [
                [
                    [], ["AL1_G_SC_MZ"]
                ]
            ],
            ["PG26"]
        ],
        "TG27": [
            ["PG23", "PG26"],
            [
                [
                    ["TRUE"], []
                ]
            ],
            ["PG"]
        ]

    },

    "internals": {

        "timer_1_PS23": [
            [
                "MODULE",
                {
                    "Q": "boolean"
                }
            ],
            [
                "TON",
                "timer_1_PS23(IN:= PS23, PT:= T#1500ms)"
            ]
        ],


        "TG_POS": [
            [
                "10..15",
                10,
                "{11, 12, 13, 14, 15}"
            ],
            [
                "INT",
                "TG_POS:=placeCtr.CV+10"
            ]
        ],
        "placeCtr": [
            [],
            [
                "CTU",
                "placeCtr(CU:= PG, R:= 0, PV:= 54)"
            ]
        ]

    },

    "inputs": {

        "ST_AL1_ST0": ["boolean", "%IX105.3"],
        "ST_AL1_ST1": ["boolean", "%IX104.0"],
        "ST_AL1_ST2": ["boolean", "%IX104.1"],
        "ST_AL1_ST3": ["boolean", "%IX104.2"],
        "RP_AL1_ST_CLAMPED": ["boolean", "%IX104.3"],
        "AL1_ST_DETECTED": ["boolean", "%IX104.4"],
        "AL1_ST_X_POS": [
            [
                "{0, 400, 860}",
                0,
                "{0, 400, 860}"
            ],
            "%IW104"
        ],
        "AL1_ST_Y_POS": [
            [
                "{0, 300, 560}",
                0,
                "{0, 300, 560}"
            ],
            "%IW105"
        ],
        "AL1_ST_Z_POS": [
            [
                "{0, 200, 410, 600, 750}",
                0,
                "{0, 200, 410, 600, 750}"
            ],
            "%IW106"
        ],


        "AL1_G_S1": ["boolean", "%IX104.5"],
        "AL1_G_SC_LL": ["boolean", "%IX104.6"],
        "AL1_G_SC_MZ": ["boolean", "%IX104.7"],
        "AL1_G_SC_ML": ["boolean", "%IX105.0"],
        "AL1_G_SC_MX": ["boolean", "%IX105.1"],
        "AL1_G_SC_RL": ["boolean", "%IX105.2"]

        
    }

}